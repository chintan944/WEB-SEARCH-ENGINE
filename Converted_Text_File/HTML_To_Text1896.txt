C++ Signal Handling - javatpoint?HomeCC++C#JavaPHPHTMLCSSJavaScriptjQueryXMLJSONAjaxNode.jsSQLQuizProjectsInterview QCommentForumTrainingC++ TutorialC++ Tutorial C vs C++ C++ History C++ Features C++ Installation C++ Program C++ cout, cin, endl C++ Variable C++ Data types C++ Keywords C++ Operators C++ Identifiers C++ ExpressionC++ Control StatementC++ if-else C++ switch C++ For Loop C++ While Loop C++ Do-While Loop C++ Break Statement C++ Continue Statement C++ Goto Statement C++ CommentsC++ FunctionsC++ Functions Call by value & reference C++ Recursion C++ Storage ClassesC++ ArraysC++ Arrays C++ Array to Function Multidimensional ArraysC++ PointersC++ Pointers C++ References Reference vs Pointer C++ Memory ManagementC++ Object ClassC++ OOPs Concepts C++ Object Class C++ Constructor C++ Copy Constructor C++ Destructor C++ this Pointer C++ static C++ Structs C++ Enumeration C++ Friend Function C++ Math FunctionsC++ InheritanceC++ Inheritance C++ AggregationC++ PolymorphismC++ Polymorphism C++ Overloading C++ Overriding C++ Virtual FunctionC++ AbstractionC++ Interfaces C++ Data AbstractionC++ NamespacesC++ NamespacesC++ StringsC++ StringsC++ ExceptionsC++ Exception Handling C++ try/catch C++ User-DefinedC++ TemplatesC++ TemplatesSignal HandlingC++ Signal HandlingC++ File & StreamC++ File & Stream C++ getline()C++ MiscC++ vs C# C++ int to stringC++ STL TutorialC++ STL Components C++ Vector C++ Deque C++ List C++ Set C++ Stack C++ Queue C++ Priority Queue C++ Map C++ Multimap C++ Map C++ Bitset C++ AlgorithmC++ IteratorsC++ Iterators C++ Bidirectional Iterator C++ Forward Iterator C++ Input Iterator C++ Output IteratorC++ ProgramsC++Programs Fibonacci Series Prime Number Palindrome Number Factorial Armstrong Number Sum of digits Reverse Number Swap Number Matrix Multiplication Decimal to Binary Number in Characters Alphabet Triangle Number Triangle Fibonacci TriangleInterview QuestionInterview Questionnext ? ? prevC++ Signal HandlingSignals are the interrupts which are delivered to a process by the operating system to stop its ongoing task and attend the task for which the interrupt has been generated.Signals can also be generated by the operating system on the basis of system or error condition.You can generate interrupts by pressing Ctrl+ C on Linux, UNIX, Mac OS X, or Windows system.There are signals which cannot be caught by the program but there is a following list of signals which you can catch in your program and can take appropriate actions based on the signal.These signals are defined in <csingnal> header file.Here are the list of signals along with their description and working capability:SignalsDescriptionSIGABRT(Signal Abort) Abnormal termination of the program, such as a call to abort.SIGFPE(Signal floating- point exception) An erroneous arithmetic operation, such as a divide by zero or an operation resulting in overflow.SIGILL(Signal Illegal Instruction) It is used for detecting an illegal instruction.SIGINT(Signal Interrupt) It is used to receipt an interactive program interrupt signal.SIGSEGV(Signal segmentation Violation) An invalid access to storage.SIGTERM(Signal Termination) A termination request sent to the program.SIGHUP(Signal Hang up) Hang Up (POSIX), its report that user's terminal is disconnected. It is used to report the termination of the controlling process.SIGQUITUsed to terminate a process and generate a core dump.SIGTRAPTrace trap.SIGBUSThis is a BUS error which indicates an access to an invalid address.SIGUSR1User defined signal 1.SIGUSR2User defined signal 2.SIGALRMAlarm clock, which indicates an access to an invalid address.SIGTERMUsed for termination. This signal can be blocked, handled, and ignored. Generated by kill command.SIGCOUNTThis signal sent to process to make it continue.SIGSTOPStop, unblockable. This signal is used to stop a process. This signal cannot be handled, ignored or blocked.The signal() FunctionC++ signal-handling library provides function signal to trap unexpected interrupts or events.Syntaxvoid (*signal (int sig, void (*func)(int)))(int);ParametersThis function is set to handle the signal.It specifies a way to handle the signals number specified by sig.Parameter func specifies one of the three ways in which a signal can be handled by a program.Default handling (SIG_DFL): The signal handled by the default action for that particular signal.Ignore Signal (SIG_IGN): The signal is ignored and the code execution will continue even if not purposeful.Function handler: A particular function is defined to handle the signal.We must keep in mind that the signal that we would like to catch must be registered using a signal function and it must be associated with a signal handling function.Note: The signal handling function should be of the void type.Return valueThe return type of this function is the same as the type of parameter func.If the request of this function is successful, the function returns a pointer to the particular handler function which was in charge of handling this signal before the call, if any.Data RacesData race is undefined. If you call this function in a multi- threaded program then it will cause undefined behavior.ExceptionsThis function never throws exception.Example 1Let's see a simple example to demonstrate the use of signal() function:#include <iostream>
#include <csignal>
 
using namespace std;

sig_atomic_t signalled = 0;

void handler(int sig)
{
    signalled = 1;
}

int main()
{
    signal(SIGINT, handler);
    
    raise(SIGINT);
    if (signalled)
        cout << "Signal is handled";
    else
        cout << "Signal is not handled";

    return 0;
}Output:Signal is handledExample 2Let's see another simple example:#include <csignal>
#include <iostream>
 
namespace
{
  volatile std::sig_atomic_t gSignalStatus;
}
 
void signal_handler(int signal)
{
  gSignalStatus = signal;
}
 
int main()
{
  // Install a signal handler
  std::signal(SIGINT, signal_handler);
 
  std::cout << "SignalValue: " << gSignalStatus << '\n';
  std::cout << "Sending signal " << SIGINT << '\n';
  std::raise(SIGINT);
  std::cout << "SignalValue: " << gSignalStatus << '\n';
}Output:SignalValue: 0
Sending signal 2
SignalValue: 2The raise() FunctionThe C++ signal raise() function is used to send signals to the current executing program.<csignal> header file declared the function raise() to handle a particular signal.Syntaxint raise (int sig);Parameterssig: The signal number to be sent for handling. It can take one of the following values:SIGINTSIGABRTSIGFPESIGILLSIGSEGVSIGTERMSIGHUPReturn valueOn success, it returns 0 and on failure, a non-zero is returned.Data RacesConcurrently calling this function is safe, causing no data races.ExceptionsThis function never throws exceptions, if no function handlers have been defined with signal to handle the raised signal.Example 1Let's see a simple example to illustrate the use of raise() function when SIGABRT is passed:#include <iostream>
#include <csignal>
 
using namespace std;

sig_atomic_t sig_value = 0;

void handler(int sig)
{
    sig_value = sig;
}

int main()
{
    signal(SIGABRT, handler);
    cout << "Before signal handler is called" << endl;
    cout << "Signal = " << sig_value << endl; 
    raise(SIGABRT);
    cout << "After signal handler is called" << endl;
    cout << "Signal = " << sig_value << endl;

    return 0;
}Output:Before signal handler is called
Signal = 0
After signal handler is called
Signal = 6Example 2Let's see a simple example to illustrate the use of raise() function when SIGINT is passed:#include <csignal> 
#include <iostream> 
using namespace std; 
  
sig_atomic_t s_value = 0; 
void handle(int signal_) 
{ 
    s_value = signal_; 
} 
  
int main() 
{ 
    signal(SIGINT, handle); 
    cout << "Before called Signal = " << s_value << endl; 
    raise(SIGINT); 
    cout << "After called Signal = " << s_value << endl; 
    return 0; 
}Output:Before called Signal = 0
After called Signal = 2Example 3Let's see a simple example to illustrate the use of raise() function when SIGTERM is passed:#include <csignal> 
#include <iostream> 
using namespace std; 
  
sig_atomic_t s_value = 0; 
void handle(int signal_) 
{ 
    s_value = signal_; 
} 
  
int main() 
{ 
    signal(SIGTERM, handle); 
    cout << "Before called Signal = " << s_value << endl; 
    raise(SIGTERM); 
    cout << "After called Signal = " << s_value << endl; 
    return 0; 
}Output:Before called Signal = 0
After called Signal = 15Example 4Let's see a simple example to illustrate the use of raise() function when SIGSEGV is passed:#include <csignal> 
#include <iostream> 
using namespace std; 
  
sig_atomic_t s_value = 0; 
void handle(int signal_) 
{ 
    s_value = signal_; 
} 
  
int main() 
{ 
    signal(SIGSEGV, handle); 
    cout << "Before called Signal = " << s_value << endl; 
    raise(SIGSEGV); 
    cout << "After called Signal = " << s_value << endl; 
    return 0; 
}Output:Before called Signal = 0
After called Signal = 11Example 5Let's see a simple example to illustrate the use of raise() function when SIGFPE is passed:#include <csignal> 
#include <iostream> 
using namespace std; 
  
sig_atomic_t s_value = 0; 
void handle(int signal_) 
{ 
    s_value = signal_; 
} 
  
int main() 
{ 
    signal(SIGFPE, handle); 
    cout << "Before called Signal = " << s_value << endl; 
    raise(SIGFPE); 
    cout << "After called Signal = " << s_value << endl; 
    return 0; 
}Output:Before called Signal = 0
After called Signal = 8Next TopicC++ Files and Streams? prev next ?Help Others, Please ShareLearn Latest TutorialsOpenpyxlTallyGodotSpring BootGradleUMLANNES6FlutterSelenium PyFirebaseCobolPreparationAptitudeReasoningVerbal A.InterviewCompanyTrending TechnologiesAIAWSSeleniumCloudHadoopReactJSD. ScienceAngular 7BlockchainGitMLDevOpsB.Tech / MCADBMSDSDAAOSC. NetworkCompiler D.COAD. Math.E. HackingC. GraphicsSoftware E.Web Tech.Cyber Sec.AutomataCC++Java.NetPythonProgramsControl S.Data MiningJavatpoint ServicesJavaTpoint offers too many high quality services. Mail us on hr@javatpoint.com, to get more information about given services.Website DesigningWebsite DevelopmentJava DevelopmentPHP DevelopmentWordPressGraphic DesigningLogoDigital MarketingOn Page and Off Page SEOPPCContent DevelopmentCorporate TrainingClassroom and Online TrainingData EntryTraining For College CampusJavaTpoint offers college campus training on Core Java, Advance Java, .Net, Android, Hadoop, PHP, Web Technology and Python. Please mail your requirement at hr@javatpoint.com.Duration: 1 week to 2 weekLike/Subscribe us for latest updates or newsletter Learn TutorialsLearn JavaLearn Data StructuresLearn C ProgrammingLearn C++ TutorialLearn C# TutorialLearn PHP TutorialLearn HTML TutorialLearn JavaScript TutorialLearn jQuery TutorialLearn Spring TutorialOur WebsitesJavatpoint.comHindi100.comLyricsia.comQuoteperson.comJobandplacement.comOur ServicesWebsite DevelopmentAndroid DevelopmentWebsite DesigningDigital MarketingSummer TrainingIndustrial TrainingCollege Campus TrainingContactAddress: G-13, 2nd Floor, Sec-3Noida, UP, 201301, IndiaContact No: 0120-4256464, 9990449935Contact Us Subscribe Us Privacy PolicySitemapAbout Me© Copyright 2011-2018 www.javatpoint.com. All rights reserved. Developed by JavaTpoint.